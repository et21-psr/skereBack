<!DOCTYPE html>
<html lang="en">
<head>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style type="text/css">
            .tg  {border-collapse:collapse;border-spacing:0;}
            .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
            .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
            .tg .tg-0lax{text-align:left;vertical-align:top}
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lista Usuarios</title>

</head>
<body>
    <div>
        <div class="container">
        <div class="row ">
                <div class="col-0"></div>
                <div class="col-10"> 
                 <table id="usuario" class="table table-striped table-bordered table-sm table-hover">
                 <tr class="thead-dark">
                 <th class="tg-0lax">ID</th>
                 <th class="tg-0lax">Nombre</th>
                 <th class="tg-0lax">Apellido</th>
                 <th class="tg-0lax">Email</th>
                 <th class="tg-0lax">Foto</th>
                 <th class="tg-0lax">Rol</th>
                 <th class="tg-0lax">Creado</th></tr>
                </table>
                </div>
        </div>
    </div>
    
  </div>
</body>

<script>
        $.ajax({
            url: 'http://localhost:3000/usuario/', 
            type: 'GET',
            beforeSend: function (){
            console.log("procesando");
            },
            success: function (response) {
                console.log(response);
                response.forEach(function(usuario){
                    html = "<tr class=''>"
                                +"<td>"
                                    +usuario.id_usuario
                                +"</td>"
                                +"<td>"
                                    +usuario.nombre
                                +"</td>"
                                +"<td>"
                                    +usuario.apellido
                                +"</td>"
                                +"<td>"
                                    +usuario.email
                                +"</td>"
                                +"<td>"
                                    +usuario.foto
                                +"</td>"
                                +"<td>"
                                    +usuario.rol
                                +"</td>"
                                +"<td>"
                                    +usuario.created_at
                                +"</td>"
                            +"</tr>";
                    $("#usuario").append(html);
                    console.log(usuario.nombre);
                });
            
            }
        });
</script>
</html>